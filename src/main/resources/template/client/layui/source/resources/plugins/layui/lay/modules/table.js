layui.define(["laytpl","laypage","layer","form"],function(B){var h=layui.$,q=layui.laytpl,C=layui.laypage,p=layui.layer,D=layui.form,v=layui.hint(),A=layui.device(),k={config:{checkName:"LAY_CHECKED",indexName:"LAY_TABLE_INDEX"},cache:{},index:layui.table?layui.table.index+1E4:0,set:function(a){this.config=h.extend({},this.config,a);return this},on:function(a,d){return layui.onevent.call(this,r,a,d)}},w=function(){var a=this,d=a.config,e=d.id;e&&(w.config[e]=d);return{reload:function(b){a.reload.call(a,
    b)},config:d}},r="table",x=function(a){a=a||{};return['<table cellspacing="0" cellpadding="0" border="0" class="layui-table" {{# if(d.data.skin){ }}lay-skin="{{d.data.skin}}"{{# } }} {{# if(d.data.size){ }}lay-size="{{d.data.size}}"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}><thead>{{# layui.each(d.data.cols, function(i1, item1){ }}<tr>{{# layui.each(item1, function(i2, item2){ }}{{# if(item2.fixed && item2.fixed !== "right"){ left = true; } }}{{# if(item2.fixed === "right"){ right = true; } }}',
        a.fixed&&"right"!==a.fixed?'{{# if(item2.fixed && item2.fixed !== "right"){ }}':"right"===a.fixed?'{{# if(item2.fixed === "right"){ }}':"",'<th data-field="{{ item2.field||i2 }}" {{# if(item2.minWidth){ }}data-minwidth="{{item2.minWidth}}"{{# } }} {{#if(item2.colspan){}} colspan="{{item2.colspan}}"{{#} if(item2.rowspan){}} rowspan="{{item2.rowspan}}"{{#}}} {{# if(item2.unresize){ }}data-unresize="true"{{# } }}><div class="layui-table-cell laytable-cell-{{# if(item2.colspan > 1){ }}group{{# } else { }}{{d.index}}-{{item2.field || i2}}{{# if(item2.type !== "normal"){ }} laytable-cell-{{ item2.type }}{{# } }}{{# } }}" {{#if(item2.align){}}align="{{item2.align}}"{{#}}}>{{# if(item2.type === "checkbox"){ }}<input type="checkbox" name="layTableCheckbox" lay-skin="primary" lay-filter="layTableAllChoose" {{# if(item2[d.data.checkName]){ }}checked{{# }; }}>{{# } else { }}<span>{{item2.title||""}}</span>{{# if(!(item2.colspan > 1) && item2.sort){ }}<span class="layui-table-sort layui-inline"><i class="layui-edge layui-table-sort-asc"></i><i class="layui-edge layui-table-sort-desc"></i></span>{{# } }}{{# } }}</div></th>',
        a.fixed?"{{# }; }}":"","{{# }); }}</tr>{{# }); }}</thead></table>"].join("")},E=['<div class="layui-form layui-border-box {{d.VIEW_CLASS}}" lay-filter="LAY-table-{{d.index}}" style="{{# if(d.data.width){ }}width:{{d.data.width}}px;{{# } }} {{# if(d.data.height){ }}height:{{d.data.height}}px;{{# } }}">{{# if(d.data.toolbar){ }}<div class="layui-table-tool"></div>{{# } }}<div class="layui-table-box">{{# var left, right; }}<div class="layui-table-header">',x(),'</div><div class="layui-table-body layui-table-main"><table cellspacing="0" cellpadding="0" border="0" class="layui-table" {{# if(d.data.skin){ }}lay-skin="{{d.data.skin}}"{{# } }} {{# if(d.data.size){ }}lay-size="{{d.data.size}}"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}><tbody></tbody></table></div>{{# if(left){ }}<div class="layui-table-fixed layui-table-fixed-l"><div class="layui-table-header">',
        x({fixed:!0}),'</div><div class="layui-table-body"><table cellspacing="0" cellpadding="0" border="0" class="layui-table" {{# if(d.data.skin){ }}lay-skin="{{d.data.skin}}"{{# } }} {{# if(d.data.size){ }}lay-size="{{d.data.size}}"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}><tbody></tbody></table></div></div>{{# }; }}{{# if(right){ }}<div class="layui-table-fixed layui-table-fixed-r"><div class="layui-table-header">',x({fixed:"right"}),'<div class="layui-table-mend"></div></div><div class="layui-table-body"><table cellspacing="0" cellpadding="0" border="0" class="layui-table" {{# if(d.data.skin){ }}lay-skin="{{d.data.skin}}"{{# } }} {{# if(d.data.size){ }}lay-size="{{d.data.size}}"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}><tbody></tbody></table></div></div>{{# }; }}</div>{{# if(d.data.page){ }}<div class="layui-table-page"><div id="layui-table-page{{d.index}}"></div></div>{{# } }}<style>{{# layui.each(d.data.cols, function(i1, item1){layui.each(item1, function(i2, item2){ }}.laytable-cell-{{d.index}}-{{item2.field||i2}}{ {{# if(item2.width){ }}width: {{item2.width}}px;{{# } }} }{{# });}); }}</style></div>'].join(""),
    t=h(window),F=h(document),l=function(a){this.index=++k.index;this.config=h.extend({},this.config,k.config,a);this.render()};l.prototype.config={limit:10,loading:!0,cellMinWidth:60,text:{none:"\u65e0\u6570\u636e"}};l.prototype.render=function(){var a=this.config;a.elem=h(a.elem);a.where=a.where||{};a.id=a.id||a.elem.attr("id");a.request=h.extend({pageName:"page",limitName:"limit"},a.request);a.response=h.extend({statusName:"code",statusCode:0,msgName:"msg",dataName:"data",countName:"count"},a.response);
    "object"===typeof a.page&&(a.limit=a.page.limit||a.limit,a.limits=a.page.limits||a.limits,this.page=a.page.curr=a.page.curr||1,delete a.page.elem,delete a.page.jump);if(!a.elem[0])return this;this.setArea();var d=a.elem,e=d.next(".layui-table-view"),b=this.elem=h(q(E).render({VIEW_CLASS:"layui-table-view",data:a,index:this.index}));a.index=this.index;e[0]&&e.remove();d.after(b);this.layHeader=b.find(".layui-table-header");this.layMain=b.find(".layui-table-main");this.layBody=b.find(".layui-table-body");
    this.layFixed=b.find(".layui-table-fixed");this.layFixLeft=b.find(".layui-table-fixed-l");this.layFixRight=b.find(".layui-table-fixed-r");this.layTool=b.find(".layui-table-tool");this.layPage=b.find(".layui-table-page");this.layTool.html(q(h(a.toolbar).html()||"").render(a));a.height&&this.fullSize();1<a.cols.length&&(a=this.layFixed.find(".layui-table-header").find("th"),a.height(this.layHeader.height()-1-parseFloat(a.css("padding-top"))-parseFloat(a.css("padding-bottom"))));this.pullData(this.page);
    this.events()};l.prototype.initOpts=function(a){var d={checkbox:48,space:15,numbers:40};a.checkbox&&(a.type="checkbox");a.space&&(a.type="space");a.type||(a.type="normal");"normal"!==a.type&&(a.unresize=!0,a.width=a.width||d[a.type])};l.prototype.setArea=function(){var a=this,d=a.config,e=0,b=0,f=0,g=0,h=d.width||function(){var a=function(b){var c,m;b=b||d.elem.parent();c=b.width();try{m="none"===b.css("display")}catch(z){}return!b[0]||c&&!m?c:a(b.parent())};return a()}();a.eachCols(function(){e++});
    h-="line"===d.skin||"nob"===d.skin?2:e+1;layui.each(d.cols,function(c,d){layui.each(d,function(c,m){m?(a.initOpts(m),c=m.width||0,1<m.colspan||(/\d+%$/.test(c)?m.width=c=Math.floor(parseFloat(c)/100*h):c||(m.width=c=0,b++),g+=c)):d.splice(c,1)})});a.autoColNums=b;h>g&&b&&(f=(h-g)/b);layui.each(d.cols,function(a,b){layui.each(b,function(a,c){a=c.minWidth||d.cellMinWidth;1<c.colspan||0!==c.width||(c.width=Math.floor(f>=a?f:a))})});d.height&&/^full-\d+$/.test(d.height)&&(a.fullHeightGap=d.height.split("-")[1],
        d.height=t.height()-a.fullHeightGap)};l.prototype.reload=function(a){this.config.data&&this.config.data.constructor===Array&&delete this.config.data;this.config=h.extend({},this.config,a);this.render()};l.prototype.page=1;l.prototype.pullData=function(a,d){var e=this,b=e.config,f=b.request,g=b.response,k=function(){"object"===typeof b.initSort&&e.sort(b.initSort.field,b.initSort.type)};e.startTime=(new Date).getTime();if(b.url){var c={};c[f.pageName]=a;c[f.limitName]=b.limit;f=h.extend(c,b.where);
    b.contentType=b.contentType||"application/x-www-form-urlencoded ";h.ajax({type:b.method||"get",url:b.url,contentType:b.contentType,data:"application/json"===b.contentType?JSON.stringify(f):f,dataType:"json",success:function(c){c[g.statusName]!=g.statusCode?(e.renderForm(),e.layMain.html('<div class="layui-none">'+(c[g.msgName]||"\u8fd4\u56de\u7684\u6570\u636e\u72b6\u6001\u5f02\u5e38")+"</div>")):(e.renderData(c,a,e.treeToList(c,g.countName)),k(),b.time=(new Date).getTime()-e.startTime+" ms");d&&p.close(d);
        "function"===typeof b.done&&b.done(c,a,c[g.countName])},error:function(a,c){e.layMain.html('<div class="layui-none">\u6570\u636e\u63a5\u53e3\u8bf7\u6c42\u5f02\u5e38</div>');e.renderForm();d&&p.close(d)}})}else b.data&&b.data.constructor===Array&&(f={},c=a*b.limit-b.limit,f[g.dataName]=b.data.concat().splice(c,b.limit),f[g.countName]=b.data.length,e.renderData(f,a,b.data.length),k(),"function"===typeof b.done&&b.done(f,a,f[g.countName]))};l.prototype.eachCols=function(a){var d=h.extend(!0,[],this.config.cols),
    e=[],b=0;layui.each(d,function(a,f){layui.each(f,function(c,m){if(1<m.colspan){var f=0;b++;m.CHILD_COLS=[];layui.each(d[a+1],function(a,c){c.PARENT_COL||f==m.colspan||(c.PARENT_COL=b,m.CHILD_COLS.push(c),f+=1<c.colspan?c.colspan:1)})}m.PARENT_COL||e.push(m)})});var f=function(b){layui.each(b||e,function(b,c){if(c.CHILD_COLS)return f(c.CHILD_COLS);a(b,c)})};f()};l.prototype.treeToList=function(a,d){d=d.split(".");for(var e=0;e<d.length;e++)a=a[d[e]];return a};l.prototype.renderData=function(a,d,e,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   b){var f=this,g=f.config,n=f.treeToList(a,g.response.dataName)||[],c=[],m=[],u=[];a=function(){if(!b&&f.sortKey)return f.sort(f.sortKey.field,f.sortKey.sort,!0);layui.each(n,function(a,e){var y=[],n=[],l=[],z=a+g.limit*(d-1)+1;0!==e.length&&(b||(e[k.config.indexName]=a),f.eachCols(function(a,c){var b=c.field||a,d=e[b];f.getColElem(f.layHeader,b);if(void 0===d||null===d)d="";1<c.colspan||(a=['<td data-field="'+b+'" '+function(){var a=[];c.edit&&a.push('data-edit="'+c.edit+'"');c.align&&a.push('align="'+
    c.align+'"');c.templet&&a.push('data-content="'+d+'"');c.toolbar&&a.push('data-off="true"');c.event&&a.push('lay-event="'+c.event+'"');c.style&&a.push('style="'+c.style+'"');c.minWidth&&a.push('data-minwidth="'+c.minWidth+'"');return a.join(" ")}()+">",'<div class="layui-table-cell laytable-cell-'+function(){var a=g.index+"-"+b;return"normal"===c.type?a:a+" laytable-cell-"+c.type}()+'">'+function(){var a=h.extend(!0,{LAY_INDEX:z},e);if("checkbox"===c.type){var b=k.config.checkName;c[b]?(e[b]=c[b],
    a=c[b]?"checked":""):a=a[b]?"checked":"";a='<input type="checkbox" name="layTableCheckbox" lay-skin="primary" '+a+">"}else a="numbers"===c.type?z:c.toolbar?q(h(c.toolbar).html()||"").render(a):c.templet?"function"===typeof c.templet?c.templet(a):q(h(c.templet).html()||String(d)).render(a):d;return a}(),"</div></td>"].join(""),y.push(a),c.fixed&&"right"!==c.fixed&&n.push(a),"right"===c.fixed&&l.push(a))}),c.push('<tr data-index="'+a+'">'+y.join("")+"</tr>"),m.push('<tr data-index="'+a+'">'+n.join("")+
    "</tr>"),u.push('<tr data-index="'+a+'">'+l.join("")+"</tr>"))});f.layBody.scrollTop(0);f.layMain.find(".layui-none").remove();f.layMain.find("tbody").html(c.join(""));f.layFixLeft.find("tbody").html(m.join(""));f.layFixRight.find("tbody").html(u.join(""));f.renderForm();f.syncCheckAll();f.haveInit?f.scrollPatch():setTimeout(function(){f.scrollPatch()},50);f.haveInit=!0;p.close(f.tipsIndex)};f.key=g.id||g.index;k.cache[f.key]=n;f.layPage[0===n.length&&1==d?"addClass":"removeClass"]("layui-hide");
    if(b)return a();if(0===n.length)return f.renderForm(),f.layFixed.remove(),f.layMain.find("tbody").html(""),f.layMain.find(".layui-none").remove(),f.layMain.append('<div class="layui-none">'+g.text.none+"</div>");a();g.page&&(g.page=h.extend({elem:"layui-table-page"+g.index,count:e,limit:g.limit,limits:g.limits||[10,20,30,40,50,60,70,80,90],groups:3,layout:"prev page next skip count limit".split(" "),prev:'<i class="layui-icon">&#xe603;</i>',next:'<i class="layui-icon">&#xe602;</i>',jump:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         c){c||(f.page=a.curr,g.limit=a.limit,f.pullData(a.curr,f.loading()))}},g.page),g.page.count=e,C.render(g.page))};l.prototype.getColElem=function(a,d){var e=this.config;return a.eq(0).find(".laytable-cell-"+(e.index+"-"+d)+":eq(0)")};l.prototype.renderForm=function(a){D.render(a,"LAY-table-"+this.index)};l.prototype.sort=function(a,d,e,b){var f,g={},n=this.config,c=n.elem.attr("lay-filter"),m=k.cache[this.key];"string"===typeof a&&this.layHeader.find("th").each(function(c,b){c=h(this);b=c.data("field");
    if(b===a)return a=c,f=b,!1});try{f=f||a.data("field");if(this.sortKey&&!e&&f===this.sortKey.field&&d===this.sortKey.sort)return;var u=this.layHeader.find("th .laytable-cell-"+n.index+"-"+f).find(".layui-table-sort");this.layHeader.find("th").find(".layui-table-sort").removeAttr("lay-sort");u.attr("lay-sort",d||null);this.layFixed.find("th")}catch(y){return v.error("Table modules: Did not match to field")}this.sortKey={field:f,sort:d};"asc"===d?e=layui.sort(m,f):"desc"===d?e=layui.sort(m,f,!0):(e=
    layui.sort(m,k.config.indexName),delete this.sortKey);g[n.response.dataName]=e;this.renderData(g,this.page,this.count,!0);b&&layui.event.call(a,r,"sort("+c+")",{field:f,type:d})};l.prototype.loading=function(){var a=this.config;if(a.loading&&a.url)return p.msg("\u6570\u636e\u8bf7\u6c42\u4e2d",{icon:16,offset:[this.elem.offset().top+this.elem.height()/2-35-t.scrollTop()+"px",this.elem.offset().left+this.elem.width()/2-90-t.scrollLeft()+"px"],time:-1,anim:-1,fixed:!1})};l.prototype.setCheckData=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               d){var e=k.cache[this.key];e[a]&&e[a].constructor!==Array&&(e[a][this.config.checkName]=d)};l.prototype.syncCheckAll=function(){var a=this,d=a.config,e=a.layHeader.find('input[name="layTableCheckbox"]'),b=function(b){a.eachCols(function(a,e){"checkbox"===e.type&&(e[d.checkName]=b)});return b};e[0]&&(k.checkStatus(a.key).isAll?(e[0].checked||(e.prop("checked",!0),a.renderForm("checkbox")),b(!0)):(e[0].checked&&(e.prop("checked",!1),a.renderForm("checkbox")),b(!1)))};l.prototype.getCssRule=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     d){var e=this,b=e.elem.find("style")[0],b=b.sheet||b.styleSheet||{};layui.each(b.cssRules||b.rules,function(b,g){if(g.selectorText===".laytable-cell-"+e.index+"-"+a)return d(g),!0})};l.prototype.fullSize=function(){var a=this.config,d=a.height;this.fullHeightGap&&(d=t.height()-this.fullHeightGap,135>d&&(d=135),this.elem.css("height",d));d=parseFloat(d)-parseFloat(this.layHeader.height())-1;a.toolbar&&(d-=this.layTool.outerHeight());a.page&&(d=d-this.layPage.outerHeight()-1);this.layMain.css("height",
    d)};l.prototype.getScrollWidth=function(a){var d;a?d=a.offsetWidth-a.clientWidth:(a=document.createElement("div"),a.style.width="100px",a.style.height="100px",a.style.overflowY="scroll",document.body.appendChild(a),d=a.offsetWidth-a.clientWidth,document.body.removeChild(a));return d};l.prototype.scrollPatch=function(){var a=this,d=a.layMain.children("table"),e=a.layMain.width()-a.layMain.prop("clientWidth"),b=a.layMain.height()-a.layMain.prop("clientHeight"),f=a.getScrollWidth(a.layMain[0]),g=d.outerWidth()-
    a.layMain.width();if(a.autoColNums&&5>g&&!a.scrollPatchWStatus){var k=a.layHeader.eq(0).find("thead th:last-child"),c=k.data("field");a.getCssRule(c,function(c){var b=c.style.width||k.outerWidth();c.style.width=parseFloat(b)-f-g+"px";0<a.layMain.height()-a.layMain.prop("clientHeight")&&(c.style.width=parseFloat(c.style.width)-1+"px");a.scrollPatchWStatus=!0})}e&&b?a.elem.find(".layui-table-patch")[0]||(c=h('<th class="layui-table-patch"><div class="layui-table-cell"></div></th>'),c.find("div").css({width:e}),
        a.layHeader.eq(0).find("thead tr").append(c)):a.layHeader.eq(0).find(".layui-table-patch").remove();b=a.layMain.height()-b;a.layFixed.find(".layui-table-body").css("height",d.height()>b?b:"auto");a.layFixRight[0<g?"removeClass":"addClass"]("layui-hide");a.layFixRight.css("right",e-1)};l.prototype.events=function(){var a=this,d=a.config,e=h("body"),b={},f=a.layHeader.find("th"),g,l=d.elem.attr("lay-filter");f.on("mousemove",function(a){var c=h(this),d=c.offset().left;a=a.clientX-d;1<c.attr("colspan")||
c.data("unresize")||b.resizeStart||(b.allowResize=10>=c.width()-a,e.css("cursor",b.allowResize?"col-resize":""))}).on("mouseleave",function(){h(this);b.resizeStart||e.css("cursor","")}).on("mousedown",function(c){var e=h(this);if(b.allowResize){var f=e.data("field");c.preventDefault();b.resizeStart=!0;b.offset=[c.clientX,c.clientY];a.getCssRule(f,function(a){var c=a.style.width||e.outerWidth();b.rule=a;b.ruleWidth=parseFloat(c);b.minWidth=e.data("minwidth")||d.cellMinWidth})}});F.on("mousemove",function(c){b.resizeStart&&
(c.preventDefault(),b.rule&&(c=b.ruleWidth+c.clientX-b.offset[0],c<b.minWidth&&(c=b.minWidth),b.rule.style.width=c+"px",p.close(a.tipsIndex)),g=1)}).on("mouseup",function(c){b.resizeStart&&(b={},e.css("cursor",""),a.scrollPatch());2===g&&(g=null)});f.on("click",function(){var c=h(this),b=c.find(".layui-table-sort"),d=b.attr("lay-sort");if(!b[0]||1===g)return g=2;a.sort(c,"asc"===d?"desc":"desc"===d?null:"asc",null,!0)}).find(".layui-table-sort .layui-edge ").on("click",function(c){var b=h(this),d=
    b.index(),b=b.parents("th").eq(0).data("field");layui.stope(c);0===d?a.sort(b,"asc",null,!0):a.sort(b,"desc",null,!0)});a.elem.on("click",'input[name="layTableCheckbox"]+',function(){var c=h(this).prev(),b=a.layBody.find('input[name="layTableCheckbox"]'),d=c.parents("tr").eq(0).data("index"),e=c[0].checked;(c="layTableAllChoose"===c.attr("lay-filter"))?(b.each(function(c,b){b.checked=e;a.setCheckData(c,e)}),a.syncCheckAll(),a.renderForm("checkbox")):(a.setCheckData(d,e),a.syncCheckAll());layui.event.call(this,
    r,"checkbox("+l+")",{checked:e,data:k.cache[a.key]?k.cache[a.key][d]||{}:{},type:c?"all":"one"})});a.layBody.on("mouseenter","tr",function(){var c=h(this).index();a.layBody.find("tr:eq("+c+")").addClass("layui-table-hover")}).on("mouseleave","tr",function(){var c=h(this).index();a.layBody.find("tr:eq("+c+")").removeClass("layui-table-hover")});a.layBody.on("change",".layui-table-edit",function(){var c=h(this),b=this.value,d=c.parent().data("field"),c=c.parents("tr").eq(0).data("index"),c=k.cache[a.key][c];
    c[d]=b;layui.event.call(this,r,"edit("+l+")",{value:b,data:c,field:d})}).on("blur",".layui-table-edit",function(){var c,b=h(this),d=b.parent().data("field"),e=b.parents("tr").eq(0).data("index"),e=k.cache[a.key][e];a.eachCols(function(a,b){b.field==d&&b.templet&&(c=b.templet)});b.siblings(".layui-table-cell").html(c?q(h(c).html()||this.value).render(e):this.value);b.parent().data("content",this.value);b.remove()});a.layBody.on("click","td",function(){var c=h(this);c.data("field");var b=c.data("edit"),
    e=c.children(".layui-table-cell");p.close(a.tipsIndex);c.data("off")||(b?"select"!==b&&(b=h('<input class="layui-input layui-table-edit">'),b[0].value=c.data("content")||e.text(),c.find(".layui-table-edit")[0]||c.append(b),b.focus()):!e.find(".layui-form-switch,.layui-form-checkbox")[0]&&Math.round(e.prop("scrollWidth"))>Math.round(e.outerWidth())&&(a.tipsIndex=p.tips(['<div class="layui-table-tips-main" style="margin-top: -'+(e.height()+16)+"px;"+("sm"===d.size?"padding: 4px 15px; font-size: 12px;":
        "lg"===d.size?"padding: 14px 15px;":"")+'">',e.html(),'</div><i class="layui-icon layui-table-tips-c">&#x1006;</i>'].join(""),e[0],{tips:[3,""],time:-1,anim:-1,maxWidth:A.ios||A.android?300:600,isOutAnim:!1,skin:"layui-table-tips",success:function(a,c){a.find(".layui-table-tips-c").on("click",function(){p.close(c)})}})))});a.layBody.on("click","*[lay-event]",function(){var c=h(this),b=c.parents("tr").eq(0).data("index"),d=a.layBody.find('tr[data-index="'+b+'"]'),e=k.cache[a.key][b];layui.event.call(this,
    r,"tool("+l+")",{data:k.clearCacheKey(e),event:c.attr("lay-event"),tr:d,del:function(){k.cache[a.key][b]=[];d.remove();a.scrollPatch()},update:function(c){c=c||{};layui.each(c,function(c,b){if(c in e){var f,g=d.children('td[data-field="'+c+'"]');e[c]=b;a.eachCols(function(a,b){b.field==c&&b.templet&&(f=b.templet)});g.children(".layui-table-cell").html(f?q(h(f).html()||b).render(e):b);g.data("content",b)}})}});d.addClass("layui-table-click").siblings("tr").removeClass("layui-table-click")});a.layMain.on("scroll",
    function(){var c=h(this),b=c.scrollLeft(),c=c.scrollTop();a.layHeader.scrollLeft(b);a.layFixed.find(".layui-table-body").scrollTop(c);p.close(a.tipsIndex)});t.on("resize",function(){a.fullSize();a.scrollPatch()})};k.init=function(a,d){d=d||{};(a?h('table[lay-filter="'+a+'"]'):h(".layui-table[lay-data]")).each(function(){var e=h(this),b=e.attr("lay-data");try{b=(new Function("return "+b))()}catch(n){v.error("Table element property lay-data configuration item has a syntax error: "+b)}var f=[],g=h.extend({elem:this,
    cols:[],data:[],skin:e.attr("lay-skin"),size:e.attr("lay-size"),even:"string"===typeof e.attr("lay-even")},k.config,d,b);a&&e.hide();e.find("thead>tr").each(function(a){g.cols[a]=[];h(this).children().each(function(c){c=h(this);var b=c.attr("lay-data");try{b=(new Function("return "+b))()}catch(u){return v.error("Table element property lay-data configuration item has a syntax error: "+b)}c=h.extend({title:c.text(),colspan:c.attr("colspan")||0,rowspan:c.attr("rowspan")||0},b);2>c.colspan&&f.push(c);
    g.cols[a].push(c)})});e.find("tbody>tr").each(function(a){var b=h(this),d={};b.children("td").each(function(a,b){a=h(this);if(b=a.data("field"))return d[b]=a.html()});layui.each(f,function(a,c){a=b.children("td").eq(a);d[c.field]=a.html()});g.data[a]=d});k.render(g)});return this};k.checkStatus=function(a){var d=0,e=0,b=[];a=k.cache[a]||[];layui.each(a,function(a,g){g.constructor===Array?e++:g[k.config.checkName]&&(d++,b.push(k.clearCacheKey(g)))});return{data:b,isAll:a.length?d===a.length-e:!1}};
    w.config={};k.reload=function(a,d){a=w.config[a];d=d||{};if(!a)return v.error("The ID option was not found in the table instance");d.data&&d.data.constructor===Array&&delete a.data;return k.render(h.extend(!0,{},a,d))};k.render=function(a){a=new l(a);return w.call(a)};k.clearCacheKey=function(a){a=h.extend({},a);delete a[k.config.checkName];delete a[k.config.indexName];return a};k.init();B(r,k)});